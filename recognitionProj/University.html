<form id="universityForm">
    <input type="text" id="universityName" name="universityName" placeholder="University Name" />
    <button type="submit">Submit</button>
</form>

<button id="getUniversities">Get All Universities</button>

<div id="universitiesList"></div>

<script>
    // Function to handle form submission (POST request)
    document.getElementById('universityForm').addEventListener('submit', function (event) {
        event.preventDefault();

        // Create the university object from form input
        const university = {
            name: document.getElementById('universityName').value
            // Add other fields if necessary, like location, foundedYear, etc.
        };

        // Send a POST request to save the university data
        fetch('http://localhost:5000/api/university/save', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(university)
        })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('University saved successfully');
                } else {
                    alert('Error saving university');
                }
            })
            .catch(error => console.error('Error:', error));
    });

    // Function to fetch all universities (GET request)
    document.getElementById('getUniversities').addEventListener('click', function () {
        // Send a GET request to fetch all universities
        fetch('http://localhost:5000/api/university/get-all')
            .then(response => response.json())
            .then(data => {
                // Display the list of universities in the "universitiesList" div
                const universitiesList = document.getElementById('universitiesList');
                universitiesList.innerHTML = ''; // Clear the list before adding new items

                if (data.length > 0) {
                    data.forEach(university => {
                        const universityItem = document.createElement('div');
                        universityItem.textContent = `${university.name}`; // Add other fields as needed
                        universitiesList.appendChild(universityItem);
                    });
                } else {
                    universitiesList.innerHTML = 'No universities found';
                }
            })
            .catch(error => console.error('Error:', error));
    });
</script>
